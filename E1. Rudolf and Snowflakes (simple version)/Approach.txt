So if we go through some test cases it is obvious that n will be of the form k^0+k^1+k^2+...+k^m where k>=2 and m>=2. So this is a geometric series and using its formula we get n=k^m+1-1/k-1. So if we simplify this we can see that for n<=1e6, m can be atmost 20. So we can just check for each value of m, if there is any valid k. We can use binary search to check for the ks. The range of k will be 2 to n^(1/m)(approx.) which again we get by simplifying the above formula.
