There are 3 cases here that we need to consider - 
1)If x consists of only 1 element, then it has to be B. This is because if it were A, that would mean 1 node has n edges which is not possible.
2)If x has duplicates but consists of atleast 2 distinct elements then there has to be atleast 1 element which is missing from x, say a. Then we have to query (a,*) where * is any other element. If the response is 0, it is A or else it is B. This is because for B, the response can never be 0 whereas in this case for A, the response will always be 0.
3)If x has all unique elements, we query (i,j) and (j,i) such that x[i]=1 and x[j]=n. In this case if the response is less than n-1, then it is A and if it is more than n-1, it is B. This is because the manhattan distance is calculated as |xi-xj|+|yi-yj|. So the response in this case has to be atleast n-1 for it to be B. The edge case here is when the response is exactly n-1. In that case we check the second response, if it is same then it is B or else it is A. This is because for A it can't be same because this is a directed graph with only 1 outdegree for each node. So if the path from u->v is say y edges it can't be the same for v->u too.
Through these various cases, we can always deduce the final answer.
