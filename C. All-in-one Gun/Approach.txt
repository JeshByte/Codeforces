If the entire gun is unloaded, then the position of elements doesn't matter as the sum will always remain same. So if the sum(s) divides the health, the answer will be (times*n)+((times-1)*k) where times=(h/s). If not, then after the final reload the gun will be partially unloaded. Here the operation should be considered. First we will update the health and the initial time. The health will be h-(times)*s. The initial time will be (times*(n+k)). Now lets say we need 3 more bullets. Then we should swap the min out of the first three bullets with the max out of the remaining ones. So what we can do is go through all the possible values for the remaining bullets(1 -> n), do the swap as mentioned above and check whether it is enough or not to kill the enemy. We can perform the min-max range queries efficiently using a sparse table or prefix/suffix arrays.
