So the reachable numbers form a cycle. So in each of these cycles, every number is reachable from the other numbers in the same cycle. So f(i) would be same for all the numbers in the same cycle. So we can first use dsu to find all the cycles. We will also need to maintain a map with all the parents(which would represent a cycle) and the number of black values in their cycle. Then we can go through each number and depending on whether they are black or not, update their parent's value. Thus f(i) for each i will just be their parent's black value from the hashmap.
